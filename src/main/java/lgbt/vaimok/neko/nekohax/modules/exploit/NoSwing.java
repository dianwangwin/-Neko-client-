package lgbt.vaimok.neko.nekohax.modules.exploit;

import lgbt.vaimok.neko.nekohax.event.events.EventPacket;
import lgbt.vaimok.neko.nekohax.event.events.EventSwing;
import lgbt.vaimok.neko.nekohax.guiscreen.settings.Setting;
import lgbt.vaimok.neko.nekohax.modules.Category;
import lgbt.vaimok.neko.nekohax.modules.Module;
import me.zero.alpine.fork.listener.EventHandler;
import me.zero.alpine.fork.listener.Listener;
import net.minecraft.network.play.client.CPacketAnimation;
import net.minecraft.util.EnumHand;

public class NoSwing extends Module {

    public NoSwing() {
        super(Category.exploit);

		this.name        = "No Swing";
		this.tag         = "NoSwing";
		this.description = "ill swing u init fam";
    }

    Setting mode = create("Mode", "NoSwingMode", "Full", combobox("Full", "Packet", "Offhand"));

    @EventHandler
	public Listener<EventPacket.SendPacket> listener = new Listener<>(event -> {
        if (event.get_packet() instanceof CPacketAnimation && mode.in("Packet")) {
			event.cancel();
		}
    });
    
    @EventHandler
	public Listener<EventSwing> listener_ = new Listener<>(event -> {
        if (mode.in("Full")) event.cancel();
        else if (mode.in("Offhand")) event.hand = EnumHand.OFF_HAND;
    });



}